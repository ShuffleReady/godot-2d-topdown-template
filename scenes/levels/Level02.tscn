[gd_scene load_steps=10 format=4 uid="uid://dnoqqlsjmqg3y"]

[ext_resource type="Script" path="res://scenes/system/camera_controller.gd" id="1_bs4lq"]
[ext_resource type="TileSet" uid="uid://cbdnrl8x6cswu" path="res://tilesets/tileset_01.tres" id="2_awxom"]
[ext_resource type="PackedScene" uid="uid://b7mgtepd7t41i" path="res://entities/player.tscn" id="3_fwtnw"]
[ext_resource type="PackedScene" uid="uid://m68w6dpmito0" path="res://scenes/props/potion.tscn" id="4_hlpjv"]
[ext_resource type="Script" path="res://scripts/interactable.gd" id="5_i368i"]
[ext_resource type="Script" path="res://scripts/state_machine.gd" id="6_t5hbn"]
[ext_resource type="Script" path="res://scripts/states/base_state.gd" id="7_qfsxs"]
[ext_resource type="Script" path="res://scripts/states/state_transfer.gd" id="8_yg5kq"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_5aihk"]
size = Vector2(32, 64)

[node name="Level02" type="Node2D" groups=["level"]]

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(262, 176)
limit_smoothed = true
script = ExtResource("1_bs4lq")

[node name="Layers" type="Node2D" parent="."]

[node name="terrain" type="TileMapLayer" parent="Layers"]
position = Vector2(-104, 12)
tile_map_data = PackedByteArray("AAAAAAAAAQAAAAAAAAABAAAAAQAAAAAAAAACAAAAAQAAAAAAAAADAAAAAQAAAAAAAAAEAAAAAQAAAAAAAAAFAAAAAQAAAAAAAAAGAAAAAQAAAAAAAAAHAAAAAQAAAAAAAAAIAAAAAQAAAAAAAAAJAAAAAQAAAAAAAAAKAAAAAQAAAAAAAAALAAAAAQAAAAAAAAAMAAAAAQAAAAAAAAANAAAAAQAAAAAAAAAOAAAAAQAAAAAAAAAAAAEAAQAAAAAAAAAAAAIAAQAAAAAAAAAAAAMAAQAAAAAAAAAAAAQAAQAAAAAAAAAAAAUAAQAAAAAAAAAAAAYAAQAAAAAAAAAAAAcAAQAAAAAAAAAAAAgAAQAAAAAAAAABAAEAAQAAAAAAAAABAAIAAQAAAAAAAAABAAMAAQAAAAAAAAABAAQAAQAAAAAAAAABAAUAAQAAAAAAAAABAAYAAQAAAAAAAAABAAcAAQAAAAAAAAABAAgAAQAAAAAAAAACAAEAAQAAAAAAAAACAAIAAQAAAAAAAAACAAMAAQAAAAAAAAACAAQAAQAAAAIAAAACAAUAAQAAAAAAAAACAAYAAQAAAAAAAAACAAcAAQAAAAAAAAACAAgAAQAAAAAAAAADAAEAAQAAAAAAAAADAAIAAQAAAAAAAAADAAMAAQAAAAAAAAADAAQAAQAAAAAAAAADAAUAAQAAAAAAAAADAAYAAQAAAAAAAAADAAcAAQAAAAAAAAADAAgAAQAAAAAAAAAEAAEAAQAAAAAAAAAEAAIAAQAAAAAAAAAEAAMAAQAAAAEAAAAEAAQAAQAAAAAAAAAEAAUAAQAAAAAAAAAEAAYAAQAAAAAAAAAEAAcAAQAAAAAAAAAEAAgAAQAAAAAAAAAFAAEAAQAAAAAAAAAFAAIAAQAAAAAAAAAFAAMAAQAAAAAAAAAFAAQAAQAAAAAAAAAFAAUAAQAAAAAAAAAFAAYAAQAAAAAAAAAFAAcAAQAAAAAAAAAFAAgAAQAAAAAAAAAGAAEAAQAAAAAAAAAGAAIAAQAAAAAAAAAGAAMAAQAAAAEAAAAGAAQAAQAAAAAAAAAGAAUAAQAAAAAAAAAGAAYAAQAAAAAAAAAGAAcAAQAAAAAAAAAGAAgAAQAAAAAAAAAHAAEAAQAAAAAAAAAHAAIAAQAAAAAAAAAHAAMAAQAAAAAAAAAHAAQAAQAAAAAAAAAHAAUAAQAAAAAAAAAHAAYAAQAAAAAAAAAHAAcAAQAAAAAAAAAHAAgAAQAAAAEAAAAIAAEAAQAAAAAAAAAIAAIAAQAAAAAAAAAIAAMAAQAAAAAAAAAIAAQAAQAAAAAAAAAIAAUAAQAAAAAAAAAIAAYAAQAAAAAAAAAIAAcAAQAAAAAAAAAIAAgAAQAAAAAAAAAJAAEAAQAAAAAAAAAJAAIAAQAAAAAAAAAJAAMAAQAAAAAAAAAJAAQAAQAAAAAAAAAJAAUAAQAAAAAAAAAJAAYAAQAAAAAAAAAJAAcAAQAAAAAAAAAJAAgAAQAAAAAAAAAKAAEAAQAAAAAAAAAKAAIAAQAAAAAAAAAKAAMAAQAAAAEAAAAKAAQAAQAAAAAAAAAKAAUAAQAAAAAAAAAKAAYAAQAAAAAAAAAKAAcAAQAAAAAAAAAKAAgAAQAAAAAAAAALAAEAAQAAAAAAAAALAAIAAQAAAAAAAAALAAMAAQAAAAAAAAALAAQAAQAAAAAAAAALAAUAAQAAAAAAAAALAAYAAQAAAAAAAAALAAcAAQAAAAIAAAALAAgAAQAAAAAAAAAMAAEAAQAAAAAAAAAMAAIAAQAAAAAAAAAMAAMAAQAAAAAAAAAMAAQAAQAAAAAAAAAMAAUAAQAAAAAAAAAMAAYAAQAAAAAAAAAMAAcAAQAAAAAAAAAMAAgAAQAAAAAAAAANAAEAAQAAAAAAAAANAAIAAQAAAAAAAAANAAMAAQAAAAIAAAANAAQAAQAAAAEAAAANAAUAAQAAAAAAAAANAAYAAQAAAAAAAAANAAcAAQAAAAAAAAANAAgAAQAAAAAAAAAOAAEAAQAAAAAAAAAOAAIAAQAAAAAAAAAOAAMAAQAAAAAAAAAOAAQAAQAAAAAAAAAOAAUAAQAAAAAAAAAOAAYAAQAAAAAAAAAOAAcAAQAAAAAAAAAOAAgAAQAAAAAAAAAJAAkAAQAKAAUAAAAIAAkAAQAKAAUAAAABAAkAAQAJAAUAAAABAAoAAQAJAAYAAAACAAoAAQAAAAAAAAADAAoAAQAAAAAAAAAEAAoAAQAAAAAAAAAFAAoAAQAAAAAAAAAFAAkAAQAKAAUAAAAGAAkAAQAKAAUAAAAHAAkAAQAKAAUAAAAHAAoAAQAAAAAAAAAGAAoAAQAAAAEAAAAEAAkAAQAKAAUAAAADAAkAAQAKAAUAAAACAAkAAQAKAAUAAAAAAAkAAQAAAAAAAAAAAAoAAQAAAAAAAAAIAAoAAQAAAAAAAAAKAAkAAQAKAAUAAAALAAkAAQAKAAUAAAAMAAkAAQAKAAUAAAANAAkAAQAKAAUAAAAJAAoAAQAAAAAAAAAKAAoAAQAAAAAAAAALAAoAAQAAAAAAAAAOAAkAAQAKAAUAAAAPAAkAAQAKAAUAAAAPAAgAAQAAAAIAAAAPAAcAAQAAAAAAAAAPAAYAAQAAAAEAAAAQAAYAAQAAAAEAAAAQAAcAAQAAAAAAAAAPAAoAAQAAAAAAAAAQAAkAAQAKAAUAAAAQAAgAAQAAAAAAAAAQAAUAAQAAAAAAAAAQAAQAAQAAAAIAAAAQAAMAAQAAAAAAAAAQAAIAAQAAAAAAAAAPAAIAAQAAAAAAAAAPAAEAAQAAAAAAAAAQAAEAAQAAAAAAAAAPAAQAAQAAAAAAAAAPAAUAAQAAAAAAAAAPAAMAAQAAAAAAAAAPAAAAAQAAAAAAAAAQAAAAAQAAAAAAAAARAAAAAQAAAAAAAAASAAAAAQAAAAAAAAATAAEAAQAAAAIAAAATAAIAAQAAAAAAAAASAAMAAQAAAAAAAAASAAQAAQAAAAAAAAASAAUAAQAAAAAAAAARAAIAAQAAAAAAAAARAAEAAQAAAAAAAAASAAEAAQAAAAAAAAASAAIAAQAAAAAAAAARAAMAAQAAAAAAAAATAAAAAQAAAAAAAAATAAMAAQAAAAAAAAATAAQAAQAAAAAAAAATAAUAAQAAAAAAAAATAAYAAQAAAAAAAAASAAcAAQAAAAEAAAASAAgAAQAAAAAAAAASAAkAAQAKAAUAAAASAAYAAQAAAAAAAAARAAYAAQAAAAAAAAARAAcAAQAAAAEAAAARAAgAAQAAAAAAAAARAAUAAQAAAAAAAAARAAQAAQAAAAIAAAATAAcAAQAAAAAAAAATAAgAAQAAAAEAAAASAAoAAQAAAAIAAAATAAkAAQALAAUAAAATAAoAAQALAAYAAAARAAoAAQAAAAAAAAARAAkAAQAKAAUAAAAQAAoAAQAAAAAAAAAQAAsAAQAAAAAAAAAOAAoAAQAAAAAAAAANAAsAAQAAAAEAAAAMAAsAAQAAAAAAAAALAAsAAQAAAAEAAAAMAAoAAQAAAAAAAAANAAoAAQAAAAIAAAAAAAsAAQAAAAEAAAABAAsAAQAJAAYAAAACAAsAAQAAAAAAAAADAAsAAQAAAAAAAAAEAAsAAQAAAAIAAAAFAAsAAQAAAAAAAAAKAAsAAQAAAAAAAAAJAAsAAQAAAAAAAAAIAAsAAQAAAAAAAAAHAAsAAQAAAAAAAAAGAAsAAQAAAAAAAAAOAAsAAQAAAAIAAAAPAAsAAQAAAAAAAAARAAsAAQAAAAAAAAASAAsAAQAAAAIAAAATAAsAAQALAAYAAAA=")
tile_set = ExtResource("2_awxom")

[node name="walls" type="TileMapLayer" parent="Layers"]
tile_map_data = PackedByteArray("AAALAAEAAQABAAAAAAALAAIAAQABAAEAAAALAAMAAQABAAIAAAAMAAEAAQACAAAAAAAMAAIAAQACAAEAAAAMAAMAAQACAAIAAAANAAEAAQADAAAAAAANAAIAAQADAAEAAAANAAMAAQADAAIAAAAKAAgAAQABAAAAAAAKAAkAAQABAAEAAAAKAAoAAQABAAIAAAALAAgAAQACAAAAAAALAAkAAQACAAEAAAALAAoAAQACAAIAAAAMAAgAAQADAAAAAAAMAAkAAQADAAEAAAAMAAoAAQADAAIAAAD8/wcAAQACAAAAAAD9/wcAAQACAAAAAAD8/wQAAQACAAIAAAD9/wQAAQACAAIAAAA=")
tile_set = ExtResource("2_awxom")

[node name="Player" parent="." instance=ExtResource("3_fwtnw")]
position = Vector2(192, 64)

[node name="Props" type="Node2D" parent="."]

[node name="Potion" parent="Props" instance=ExtResource("4_hlpjv")]
position = Vector2(144, 368)

[node name="Potion2" parent="Props" instance=ExtResource("4_hlpjv")]
position = Vector2(111, 126)

[node name="Transfer" type="Area2D" parent="." node_paths=PackedStringArray("on_interaction")]
position = Vector2(-80, 192)
collision_layer = 8
monitoring = false
script = ExtResource("5_i368i")
direction = 2
on_interaction = NodePath("StateMachine/transfer")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Transfer"]
shape = SubResource("RectangleShape2D_5aihk")

[node name="StateMachine" type="Node" parent="Transfer"]
script = ExtResource("6_t5hbn")

[node name="idle" type="Node" parent="Transfer/StateMachine"]
script = ExtResource("7_qfsxs")

[node name="transfer" type="Node" parent="Transfer/StateMachine"]
script = ExtResource("8_yg5kq")
level_key = "LEVEL_1"
destination_name = "Transfer"
