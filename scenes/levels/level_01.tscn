[gd_scene load_steps=63 format=4 uid="uid://f0ljdodnvnix"]

[ext_resource type="PackedScene" uid="uid://b0b0jp36dubff" path="res://scenes/levels/Level.tscn" id="1_xvd2c"]
[ext_resource type="Script" path="res://items/content_item.gd" id="3_myhjs"]
[ext_resource type="PackedScene" uid="uid://vju64cd63eqd" path="res://scenes/props/trap.tscn" id="4_avl7y"]
[ext_resource type="Resource" path="res://items/potion.tres" id="4_cywot"]
[ext_resource type="Resource" path="res://items/key.tres" id="4_qx1j4"]
[ext_resource type="PackedScene" path="res://scenes/props/potion.tscn" id="5_1ytof"]
[ext_resource type="PackedScene" path="res://scenes/props/gate_side_up.tscn" id="6_5b3ge"]
[ext_resource type="PackedScene" uid="uid://bfgn02yd5ftws" path="res://scenes/props/chest.tscn" id="6_kdswq"]
[ext_resource type="Script" path="res://scripts/state_machine/scripts/state_machine.gd" id="7_e6yb8"]
[ext_resource type="Script" path="res://scripts/state_machine/states/state_path.gd" id="8_285dh"]
[ext_resource type="Script" path="res://scripts/state_machine/scripts/change_state_listener.gd" id="8_dt570"]
[ext_resource type="Texture2D" uid="uid://dacsyjsh8ayd8" path="res://scenes/props/blocks.png" id="9_3pscl"]
[ext_resource type="Script" path="res://scripts/state_machine/states/state.gd" id="9_o85tp"]
[ext_resource type="PackedScene" path="res://scenes/props/gate_front_down.tscn" id="12_70ge1"]
[ext_resource type="Script" path="res://scripts/state_machine/states/state_animation.gd" id="12_kio72"]
[ext_resource type="PackedScene" uid="uid://dvci1ecg1e7l" path="res://scenes/props/switch.tscn" id="13_64f3m"]
[ext_resource type="Script" path="res://scenes/system/interaction_area.gd" id="16_iu1m7"]
[ext_resource type="Script" path="res://scripts/state_machine/states/state_interact.gd" id="16_nsalp"]
[ext_resource type="PackedScene" uid="uid://bybfkbp6hi8r0" path="res://scenes/system/transfer.tscn" id="16_vcg7b"]
[ext_resource type="Texture2D" uid="uid://cykfen8qlmpcw" path="res://scenes/props/chest.png" id="17_mhiu8"]
[ext_resource type="Script" path="res://scripts/state_machine/states/state_params_setter.gd" id="17_pb8k3"]
[ext_resource type="Script" path="res://scenes/props/get_contents.gd" id="18_lswbx"]
[ext_resource type="Script" path="res://scripts/state_machine/scripts/check.gd" id="19_3t34l"]
[ext_resource type="Script" path="res://scripts/state_machine/states/state_tween.gd" id="19_uujh0"]
[ext_resource type="Script" path="res://scripts/state_machine/scripts/tween_data.gd" id="20_3t34l"]
[ext_resource type="Script" path="res://scripts/state_machine/scripts/check_direction.gd" id="20_qy4h0"]
[ext_resource type="Script" path="res://scripts/state_machine/scripts/check_items.gd" id="21_e5bmj"]
[ext_resource type="Script" path="res://scripts/state_machine/states/state_callable.gd" id="21_qy4h0"]
[ext_resource type="Script" path="res://scripts/state_machine/states/state_dialogue.gd" id="24_qy4h0"]
[ext_resource type="Resource" uid="uid://gdgabla4e12i" path="res://dialogues/tutorial_02.dialogue" id="25_e5bmj"]

[sub_resource type="Resource" id="Resource_vrcmr"]
script = ExtResource("3_myhjs")
item = ExtResource("4_cywot")
quantity = 0
metadata/_custom_type_script = ExtResource("3_myhjs")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_pt5lc"]
size = Vector2(48, 10)

[sub_resource type="CircleShape2D" id="CircleShape2D_iu1m7"]
radius = 32.0

[sub_resource type="Animation" id="Animation_u6bpn"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("StaticBody2D/CollisionShape2D:disabled")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:frame_coords")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2i(3, 0)]
}

[sub_resource type="Animation" id="Animation_2uv2s"]
resource_name = "down"
length = 0.06667
tracks/0/type = "method"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("StateMachine/idle_down")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0.0666667),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [null],
"method": &"enable"
}]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:frame_coords")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.0333333),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [Vector2i(2, 0), Vector2i(1, 0)]
}

[sub_resource type="Animation" id="Animation_3vpsv"]
resource_name = "idle_down"
length = 0.0333367
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("StaticBody2D/CollisionShape2D:disabled")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:frame_coords")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2i(0, 0)]
}

[sub_resource type="Animation" id="Animation_oct5m"]
resource_name = "idle_up"
length = 0.0333367
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("StaticBody2D/CollisionShape2D:disabled")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:frame_coords")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2i(3, 0)]
}

[sub_resource type="Animation" id="Animation_muw3c"]
resource_name = "up"
length = 0.06667
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.0333333),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [Vector2i(1, 0), Vector2i(2, 0)]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("StateMachine/idle_up")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0.0666667),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [null],
"method": &"enable"
}]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_w6wxc"]
_data = {
&"RESET": SubResource("Animation_u6bpn"),
&"down": SubResource("Animation_2uv2s"),
&"idle_down": SubResource("Animation_3vpsv"),
&"idle_up": SubResource("Animation_oct5m"),
&"up": SubResource("Animation_muw3c")
}

[sub_resource type="Resource" id="Resource_e5bmj"]
script = ExtResource("3_myhjs")
item = ExtResource("4_qx1j4")
quantity = 1
metadata/_custom_type_script = ExtResource("3_myhjs")

[sub_resource type="Resource" id="Resource_cag23"]
resource_name = "key"
script = ExtResource("21_e5bmj")
items = Array[ExtResource("3_myhjs")]([SubResource("Resource_e5bmj")])
remove_items = true
disabled = false
metadata/_custom_type_script = ExtResource("21_e5bmj")

[sub_resource type="Resource" id="Resource_iu1m7"]
script = ExtResource("3_myhjs")
item = ExtResource("4_qx1j4")
quantity = 1
metadata/_custom_type_script = ExtResource("3_myhjs")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_niryh"]
size = Vector2(40, 26)

[sub_resource type="CircleShape2D" id="CircleShape2D_db0e2"]
radius = 32.0

[sub_resource type="Animation" id="Animation_cqrp8"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2i(0, 0)]
}

[sub_resource type="Animation" id="Animation_atw4n"]
resource_name = "idle"
length = 0.0333367
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2i(0, 0)]
}

[sub_resource type="Animation" id="Animation_jcv77"]
resource_name = "open"
length = 0.16667
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.0333333, 0.0666667, 0.1, 0.133333),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 1,
"values": [Vector2i(0, 0), Vector2i(1, 0), Vector2i(2, 0), Vector2i(3, 0), Vector2i(4, 0)]
}

[sub_resource type="Animation" id="Animation_r5a30"]
resource_name = "opened"
length = 0.0333367
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2i(4, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_jt1pw"]
_data = {
&"RESET": SubResource("Animation_cqrp8"),
&"idle": SubResource("Animation_atw4n"),
&"open": SubResource("Animation_jcv77"),
&"opened": SubResource("Animation_r5a30")
}

[sub_resource type="Resource" id="Resource_iqf6e"]
resource_name = "direction"
script = ExtResource("20_qy4h0")
direction = 8
disabled = false
metadata/_custom_type_script = ExtResource("20_qy4h0")

[sub_resource type="Resource" id="Resource_stkom"]
script = ExtResource("3_myhjs")
item = ExtResource("4_qx1j4")
quantity = 1
metadata/_custom_type_script = ExtResource("3_myhjs")

[sub_resource type="Resource" id="Resource_5t8rk"]
resource_name = "item"
script = ExtResource("21_e5bmj")
items = Array[ExtResource("3_myhjs")]([SubResource("Resource_stkom")])
remove_items = true
disabled = false
metadata/_custom_type_script = ExtResource("21_e5bmj")

[sub_resource type="Curve" id="Curve_l0liu"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.507042, 1), 0.0, 0.0, 0, 0, Vector2(0.850704, 0), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 4

[sub_resource type="Resource" id="Resource_tf1rf"]
script = ExtResource("20_3t34l")
curve = SubResource("Curve_l0liu")
duration = 0.2
delay = 0.1
property = "scale"
end_value = "Vector2(0.1,0.2)"

[sub_resource type="Curve" id="Curve_jy2bj"]
min_value = -1.0
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.35, 0.3), 0.0, 0.0, 0, 0, Vector2(0.7, -0.3), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 4

[sub_resource type="Resource" id="Resource_nicjx"]
script = ExtResource("20_3t34l")
curve = SubResource("Curve_jy2bj")
duration = 0.1
delay = 0.0
property = "position"
end_value = "Vector2(10,0)"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_vrcmr"]
resource_local_to_scene = true
size = Vector2(64, 32)

[sub_resource type="Resource" id="Resource_3pila"]
script = ExtResource("20_qy4h0")
direction = 8
disabled = false
metadata/_custom_type_script = ExtResource("20_qy4h0")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_svp4f"]
resource_local_to_scene = true
size = Vector2(64, 32)

[sub_resource type="Resource" id="Resource_d86x1"]
script = ExtResource("20_qy4h0")
direction = 1
disabled = false
metadata/_custom_type_script = ExtResource("20_qy4h0")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_cywot"]
size = Vector2(48, 64)

[sub_resource type="Curve2D" id="Curve2D_uycfk"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 0, -88, 0, 0, 0, 0, 88, -88, 0, 0, 0, 0, 88, -160, 0, 0, 0, 0, 280, -160, 0, 0, 0, 0, 280, -56, 0, 0, 0, 0, 344, -56)
}
point_count = 6

[node name="Level_01" instance=ExtResource("1_xvd2c")]

[node name="GameCamera2D" parent="." index="0"]
limit_left = -64
limit_top = -96

[node name="terrain" parent="Layers" index="0"]
tile_map_data = PackedByteArray("AAADAP//CgABAAAAAAADAAAACgABAAEAAAADAAEACgABAAAAAAADAAIACgABAAEAAAADAAMACgABAAAAAAADAAQACgABAAEAAAADAAUACgABAAAAAAADAAYACgABAAEAAAADAAcACgABAAAAAAADAAgACgABAAEAAAADAAkACgABAAAAAAADAAoACgABAAEAAAADAAsACgABAAAAAAAEAP//CgAAAAAAAAAEAAAACgAAAAEAAAAEAAEACgAAAAAAAAAEAAIACgAAAAEAAAAEAAMACgAAAAAAAAAEAAQACgAAAAEAAAAEAAUACgAAAAAAAAAEAAYACgAAAAEAAAAEAAcACgAAAAAAAAAEAAgACgAAAAEAAAAEAAkACgAAAAAAAAAEAAoACgAAAAEAAAAEAAsACgAAAAAAAAAFAP//CgABAAAAAAAFAAAACgABAAEAAAAFAAEACgABAAAAAAAFAAIACgABAAEAAAAFAAMACgABAAAAAAAFAAQACgABAAEAAAAFAAUACgABAAAAAAAFAAYACgABAAEAAAAFAAcACgABAAAAAAAFAAgACgABAAEAAAAFAAkACgABAAAAAAAFAAoACgABAAEAAAAFAAsACgABAAAAAAAGAP//CgAAAAAAAAAGAAAACgAAAAEAAAAGAAEACgAAAAAAAAAGAAIACgAAAAEAAAAGAAMACgAAAAAAAAAGAAQACgAAAAEAAAAGAAUACgAAAAAAAAAGAAYACgAAAAEAAAAGAAcACgAAAAAAAAAGAAgACgAAAAEAAAAGAAkACgAAAAAAAAAGAAoACgAAAAEAAAAGAAsACgAAAAAAAAAHAP//CgABAAAAAAAHAAAACgABAAEAAAAHAAEACgABAAAAAAAHAAIACgABAAEAAAAHAAMACgABAAAAAAAHAAQACgABAAEAAAAHAAUACgABAAAAAAAHAAYACgABAAEAAAAHAAcACgABAAAAAAAHAAgACgABAAEAAAAHAAkACgABAAAAAAAHAAoACgABAAEAAAAHAAsACgABAAAAAAAIAP//CgAAAAAAAAAIAAAACgAAAAEAAAAIAAEACgAAAAAAAAAIAAIACgAAAAEAAAAIAAMACgAAAAAAAAAIAAQACgAAAAEAAAAIAAUACgAAAAAAAAAIAAYACgAAAAEAAAAIAAcACgAAAAAAAAAIAAgACgAAAAEAAAAIAAkACgAAAAAAAAAIAAoACgAAAAEAAAAIAAsACgAAAAAAAAAJAP//CgABAAAAAAAJAAAACgABAAEAAAAJAAEACgABAAAAAAAJAAIACgABAAEAAAAJAAMACgABAAAAAAAJAAQACgABAAEAAAAJAAUACgABAAAAAAAJAAYACgABAAEAAAAJAAcACgABAAAAAAAJAAgACgABAAEAAAAJAAkACgABAAAAAAAJAAoACgABAAEAAAAJAAsACgABAAAAAAAKAP//CgAAAAAAAAAKAAAACgAAAAEAAAAKAAEACgAAAAAAAAAKAAIACgAAAAEAAAAKAAMACgAAAAAAAAAKAAQACgAAAAEAAAAKAAUACgAAAAAAAAAKAAYACgAAAAEAAAAKAAcACgAAAAAAAAAKAAgACgAAAAEAAAAKAAkACgAAAAAAAAAKAAoACgAAAAEAAAAKAAsACgAAAAAAAAALAP//CgABAAAAAAALAAAACgABAAEAAAALAAEACgABAAAAAAALAAIACgABAAEAAAALAAMACgABAAAAAAALAAQACgABAAEAAAALAAUACgABAAAAAAALAAYACgABAAEAAAALAAcACgABAAAAAAALAAgACgABAAEAAAALAAkACgABAAAAAAALAAoACgABAAEAAAALAAsACgABAAAAAAAMAP//CgAAAAAAAAAMAAAACgAAAAEAAAAMAAEACgAAAAAAAAAMAAIACgAAAAEAAAAMAAMACgAAAAAAAAAMAAQACgAAAAEAAAAMAAUACgAAAAAAAAAMAAYACgAAAAEAAAAMAAcACgAAAAAAAAAMAAgACgAAAAEAAAAMAAkACgAAAAAAAAAMAAoACgAAAAEAAAAMAAsACgAAAAAAAAANAP//CgABAAAAAAANAAAACgABAAEAAAANAAEACgABAAAAAAANAAIACgABAAEAAAANAAMACgABAAAAAAANAAQACgABAAEAAAANAAUACgABAAAAAAANAAYACgABAAEAAAANAAcACgABAAAAAAANAAgACgABAAEAAAANAAkACgABAAAAAAANAAoACgABAAEAAAANAAsACgABAAAAAAAOAP//CgAAAAAAAAAOAAAACgAAAAEAAAAOAAEACgAAAAAAAAAOAAIACgAAAAEAAAAOAAMACgAAAAAAAAAOAAQACgAAAAEAAAAOAAUACgAAAAAAAAAOAAYACgAAAAEAAAAOAAcACgAAAAAAAAAOAAgACgAAAAEAAAAOAAkACgAAAAAAAAAOAAoACgAAAAEAAAAOAAsACgAAAAAAAAAPAP//CgABAAAAAAAPAAAACgABAAEAAAAPAAEACgABAAAAAAAPAAIACgABAAEAAAAPAAMACgABAAAAAAAPAAQACgABAAEAAAAPAAUACgABAAAAAAAPAAYACgABAAEAAAAPAAcACgABAAAAAAAPAAgACgABAAEAAAAPAAkACgABAAAAAAAPAAoACgABAAEAAAAPAAsACgABAAAAAAAQAP//CgAAAAAAAAAQAAAACgAAAAEAAAAQAAEACgAAAAAAAAAQAAIACgAAAAEAAAAQAAMACgAAAAAAAAAQAAQACgAAAAEAAAAQAAUACgAAAAAAAAAQAAYACgAAAAEAAAAQAAcACgAAAAAAAAAQAAgACgAAAAEAAAAQAAkACgAAAAAAAAAQAAoACgAAAAEAAAAQAAsACgAAAAAAAAARAP//CgABAAAAAAARAAAACgABAAEAAAARAAEACgABAAAAAAARAAIACgABAAEAAAARAAMACgABAAAAAAARAAQACgABAAEAAAARAAUACgABAAAAAAARAAYACgABAAEAAAARAAcACgABAAAAAAARAAgACgABAAEAAAARAAkACgABAAAAAAARAAoACgABAAEAAAARAAsACgABAAAAAAASAP//CgAAAAAAAAASAAAACgAAAAEAAAASAAEACgAAAAAAAAASAAIACgAAAAEAAAASAAMACgAAAAAAAAASAAQACgAAAAEAAAASAAUACgAAAAAAAAASAAYACgAAAAEAAAASAAcACgAAAAAAAAASAAgACgAAAAEAAAASAAkACgAAAAAAAAASAAoACgAAAAEAAAASAAsACgAAAAAAAAATAP//CgABAAAAAAATAAAACgABAAEAAAATAAEACgABAAAAAAATAAIACgABAAEAAAATAAMACgABAAAAAAATAAQACgABAAEAAAATAAUACgABAAAAAAATAAYACgABAAEAAAATAAcACgABAAAAAAATAAgACgABAAEAAAATAAkACgABAAAAAAATAAoACgABAAEAAAATAAsACgABAAAAAAAUAP//CgAAAAAAAAAUAAAACgAAAAEAAAAUAAEACgAAAAAAAAAUAAIACgAAAAEAAAAUAAMACgAAAAAAAAAUAAQACgAAAAEAAAAUAAUACgAAAAAAAAAUAAYACgAAAAEAAAAUAAcACgAAAAAAAAAUAAgACgAAAAEAAAAUAAkACgAAAAAAAAAUAAoACgAAAAEAAAAUAAsACgAAAAAAAAAVAP//CgABAAAAAAAVAAAACgABAAEAAAAVAAEACgABAAAAAAAVAAIACgABAAEAAAAVAAMACgABAAAAAAAVAAQACgABAAEAAAAVAAUACgABAAAAAAAVAAYACgABAAEAAAAVAAcACgABAAAAAAAVAAgACgABAAEAAAAVAAkACgABAAAAAAAVAAoACgABAAEAAAAVAAsACgABAAAAAAAWAP//CgAAAAAAAAAWAAAACgAAAAEAAAAWAAEACgAAAAAAAAAWAAIACgAAAAEAAAAWAAMACgAAAAAAAAAWAAQACgAAAAEAAAAWAAUACgAAAAAAAAAWAAYACgAAAAEAAAAWAAcACgAAAAAAAAAWAAgACgAAAAEAAAAWAAkACgAAAAAAAAAWAAoACgAAAAEAAAAWAAsACgAAAAAAAAAXAP//CgABAAAAAAAXAAAACgABAAEAAAAXAAEACgABAAAAAAAXAAIACgABAAEAAAAXAAMACgABAAAAAAAXAAQACgABAAEAAAAXAAUACgABAAAAAAAXAAYACgABAAEAAAAXAAcACgABAAAAAAAXAAgACgABAAEAAAAXAAkACgABAAAAAAAXAAoACgABAAEAAAAXAAsACgABAAAAAAAYAP//CgAAAAAAAAAYAAAACgAAAAEAAAAYAAEACgAAAAAAAAAYAAIACgAAAAEAAAAYAAMACgAAAAAAAAAYAAQACgAAAAEAAAAYAAUACgAAAAAAAAAYAAYACgAAAAEAAAAYAAcACgAAAAAAAAAYAAgACgAAAAEAAAAYAAkACgAAAAAAAAAYAAoACgAAAAEAAAAYAAsACgAAAAAAAAAZAP//CgABAAAAAAAZAAAACgABAAEAAAAZAAEACgABAAAAAAAZAAIACgABAAEAAAAZAAMACgABAAAAAAAZAAQACgABAAEAAAAZAAUACgABAAAAAAAZAAYACgABAAEAAAAZAAcACgABAAAAAAAZAAgACgABAAEAAAAZAAkACgABAAAAAAAZAAoACgABAAEAAAAZAAsACgABAAAAAAAFAP7/CgABAAEAAAAFAP3/CgABAAAAAAAGAP3/CgAAAAAAAAAGAP7/CgAAAAEAAAAHAP7/CgABAAEAAAAHAP3/CgABAAAAAAAFAA0ACgABAAAAAAAFAAwACgABAAEAAAAGAAwACgAAAAEAAAAGAA0ACgAAAAAAAAAHAAwACgABAAEAAAAHAA0ACgABAAAAAAAAAP//CgAAAAAAAAAAAAAACgAAAAEAAAABAP//CgABAAAAAAABAAAACgABAAEAAAAAAAEACgAAAAAAAAAAAAIACgAAAAEAAAABAAEACgABAAAAAAABAAIACgABAAEAAAACAAEACgAAAAAAAAACAAIACgAAAAEAAAACAP//CgAAAAAAAAACAAAACgAAAAEAAAACAAMACgAAAAAAAAACAAQACgAAAAEAAAAAAAMACgAAAAAAAAAAAAQACgAAAAEAAAABAAMACgABAAAAAAABAAQACgABAAEAAAAAAAUACgAAAAAAAAAAAAYACgAAAAEAAAABAAUACgABAAAAAAABAAYACgABAAEAAAACAAUACgAAAAAAAAACAAYACgAAAAEAAAAAAAcACgAAAAAAAAAAAAgACgAAAAEAAAABAAcACgABAAAAAAABAAgACgABAAEAAAACAAcACgAAAAAAAAACAAgACgAAAAEAAAAAAAkACgAAAAAAAAAAAAoACgAAAAEAAAABAAkACgABAAAAAAABAAoACgABAAEAAAACAAkACgAAAAAAAAACAAoACgAAAAEAAAAAAAsACgAAAAAAAAAAAAwACgAAAAEAAAABAAsACgABAAAAAAABAAwACgABAAEAAAACAAsACgAAAAAAAAACAAwACgAAAAEAAAADAAwACgABAAEAAAAAAA0ACgAAAAAAAAAAAA4ACgAAAAEAAAABAA0ACgABAAAAAAABAA4ACgABAAEAAAACAA0ACgAAAAAAAAACAA4ACgAAAAEAAAADAA0ACgABAAAAAAADAA4ACgABAAEAAAAEAAwACgAAAAEAAAAEAA0ACgAAAAAAAAAEAA4ACgAAAAEAAAAFAA4ACgABAAEAAAAGAA4ACgAAAAEAAAAHAA4ACgABAAEAAAAIAA0ACgAAAAAAAAAIAA4ACgAAAAEAAAAJAA0ACgABAAAAAAAJAA4ACgABAAEAAAAIAAwACgAAAAEAAAAJAAwACgABAAEAAAAKAAwACgAAAAEAAAALAAwACgABAAEAAAAKAA0ACgAAAAAAAAAKAA4ACgAAAAEAAAALAA0ACgABAAAAAAALAA4ACgABAAEAAAAMAA0ACgAAAAAAAAAMAA4ACgAAAAEAAAANAA0ACgABAAAAAAANAA4ACgABAAEAAAAOAAwACgAAAAEAAAAPAAwACgABAAEAAAAQAAwACgAAAAEAAAARAAwACgABAAEAAAAQAA0ACgAAAAAAAAAQAA4ACgAAAAEAAAARAA0ACgABAAAAAAARAA4ACgABAAEAAAAOAA0ACgAAAAAAAAAOAA4ACgAAAAEAAAAPAA0ACgABAAAAAAAPAA4ACgABAAEAAAAMAAwACgAAAAEAAAANAAwACgABAAEAAAASAA0ACgAAAAAAAAASAA4ACgAAAAEAAAATAA0ACgABAAAAAAATAA4ACgABAAEAAAAUAA0ACgAAAAAAAAAUAA4ACgAAAAEAAAAVAA0ACgABAAAAAAAVAA4ACgABAAEAAAASAAwACgAAAAEAAAATAAwACgABAAEAAAAUAAwACgAAAAEAAAAVAAwACgABAAEAAAAWAAwACgAAAAEAAAAXAAwACgABAAEAAAAWAA0ACgAAAAAAAAAWAA4ACgAAAAEAAAAXAA0ACgABAAAAAAAXAA4ACgABAAEAAAAYAAwACgAAAAEAAAAZAAwACgABAAEAAAAYAA0ACgAAAAAAAAAYAA4ACgAAAAEAAAAZAA0ACgABAAAAAAAZAA4ACgABAAEAAAD+/w0ACgAAAAAAAAD+/w4ACgAAAAEAAAD//w0ACgABAAAAAAD//w4ACgABAAEAAAD+/wsACgAAAAAAAAD+/wwACgAAAAEAAAD//wsACgABAAAAAAD//wwACgABAAEAAAD+/wkACgAAAAAAAAD+/woACgAAAAEAAAD//wkACgABAAAAAAD//woACgABAAEAAAD+/wcACgAAAAAAAAD+/wgACgAAAAEAAAD//wcACgABAAAAAAD//wgACgABAAEAAAD+/wUACgAAAAAAAAD+/wYACgAAAAEAAAD//wUACgABAAAAAAD//wYACgABAAEAAAD+/wMACgAAAAAAAAD+/wQACgAAAAEAAAD//wMACgABAAAAAAD//wQACgABAAEAAAD+/wEACgAAAAAAAAD+/wIACgAAAAEAAAD//wEACgABAAAAAAD//wIACgABAAEAAAD+////CgAAAAAAAAD+/wAACgAAAAEAAAD/////CgABAAAAAAD//wAACgABAAEAAAD+//3/CgAAAAAAAAD+//7/CgAAAAEAAAD///3/CgABAAAAAAD///7/CgABAAEAAAAAAP3/CgAAAAAAAAAAAP7/CgAAAAEAAAABAP3/CgABAAAAAAABAP7/CgABAAEAAAACAP3/CgAAAAAAAAACAP7/CgAAAAEAAAADAP3/CgABAAAAAAADAP7/CgABAAEAAAAEAP3/CgAAAAAAAAAEAP7/CgAAAAEAAAAIAP3/CgAAAAAAAAAIAP7/CgAAAAEAAAAJAP3/CgABAAAAAAAJAP7/CgABAAEAAAAKAP3/CgAAAAAAAAAKAP7/CgAAAAEAAAALAP3/CgABAAAAAAALAP7/CgABAAEAAAAMAP3/CgAAAAAAAAAMAP7/CgAAAAEAAAANAP3/CgABAAAAAAANAP7/CgABAAEAAAAOAP3/CgAAAAAAAAAOAP7/CgAAAAEAAAAPAP3/CgABAAAAAAAPAP7/CgABAAEAAAAWAP3/CgAAAAAAAAAWAP7/CgAAAAEAAAAXAP3/CgABAAAAAAAXAP7/CgABAAEAAAAYAP3/CgAAAAAAAAAYAP7/CgAAAAEAAAAZAP3/CgABAAAAAAAZAP7/CgABAAEAAAAQAP3/CgAAAAAAAAAQAP7/CgAAAAEAAAARAP3/CgABAAAAAAARAP7/CgABAAEAAAASAP3/CgAAAAAAAAASAP7/CgAAAAEAAAATAP3/CgABAAAAAAATAP7/CgABAAEAAAAUAP3/CgAAAAAAAAAUAP7/CgAAAAEAAAAVAP3/CgABAAAAAAAVAP7/CgABAAEAAAA=")

[node name="water" parent="Layers" index="1"]
tile_map_data = PackedByteArray("AAABAAgABgAAAAIAAAABAAcABgAAAAAAAAACAAcABgABAAAAAAADAAcABgABAAEAAAADAAgABgABAAIAAAACAAgABgABAAIAAAAEAAgABgABAAEAAAAFAAgABgABAAEAAAAFAAcABgABAAEAAAAEAAcABgABAAEAAAADAAYABgAAAAAAAAAEAAYABgABAAAAAAAFAAYABgABAAAAAAAGAAYABgACAAAAAAAGAAcABgABAAEAAAAGAAgABgABAAEAAAAEAAkABgAAAAIAAAAFAAkABgABAAIAAAAGAAkABgABAAIAAAAHAAkABgACAAIAAAAHAAgABgACAAEAAAAHAAcABgACAAAAAAA=")

[node name="walls" parent="Layers" index="3"]
tile_map_data = PackedByteArray("AAAAAAAACAAAAAIAAAABAAAACAACAAIAAAABAP//CAACAAAAAAAEAP//CAAAAAAAAAAAAP//CAAAAAAAAAAEAAAACAAAAAIAAAAVAAAACAACAAIAAAAVAP//CAACAAAAAAAUAAAACAABAAIAAAAUAP//CAABAAAAAAATAAAACAABAAIAAAATAP//CAABAAAAAAASAAAACAABAAIAAAASAP//CAABAAAAAAARAAAACAABAAIAAAARAP//CAABAAAAAAAQAAAACAABAAIAAAAQAP//CAABAAAAAAAPAAAACAABAAIAAAAPAP//CAABAAAAAAAOAAAACAABAAIAAAAOAP//CAABAAAAAAANAAAACAABAAIAAAANAP//CAABAAAAAAAMAAAACAABAAIAAAAMAP//CAABAAAAAAALAAAACAABAAIAAAALAP//CAABAAAAAAAKAAAACAABAAIAAAAKAP//CAABAAAAAAAJAAAACAABAAIAAAAJAP//CAABAAAAAAAIAAAACAABAAIAAAAIAP//CAABAAAAAAAHAAAACAABAAIAAAAHAP//CAABAAAAAAAGAAAACAABAAIAAAAGAP//CAABAAAAAAAFAAAACAABAAIAAAAFAP//CAABAAAAAAAWAA0ACAABAAIAAAAVAA0ACAABAAIAAAAUAA0ACAABAAIAAAATAA0ACAABAAIAAAASAA0ACAABAAIAAAARAA0ACAABAAIAAAAQAA0ACAABAAIAAAAPAA0ACAABAAIAAAAOAA0ACAABAAIAAAANAA0ACAABAAIAAAAMAA0ACAABAAIAAAALAA0ACAABAAIAAAAKAA0ACAABAAIAAAAJAA0ACAABAAIAAAAIAA0ACAABAAIAAAAHAA0ACAABAAIAAAAGAA0ACAABAAIAAAAFAA0ACAABAAIAAAAEAA0ACAAAAAIAAAAEAAwACAAAAAAAAAAFAAwACAABAAAAAAAGAAwACAABAAAAAAAHAAwACAABAAAAAAAIAAwACAABAAAAAAAJAAwACAABAAAAAAAKAAwACAABAAAAAAALAAwACAABAAAAAAAMAAwACAABAAAAAAANAAwACAABAAAAAAAOAAwACAABAAAAAAAPAAwACAABAAAAAAAQAAwACAABAAAAAAARAAwACAABAAAAAAASAAwACAABAAAAAAATAAwACAABAAAAAAAUAAwACAABAAAAAAAVAAwACAABAAAAAAAWAAwACAABAAAAAAABAA0ACAACAAIAAAABAAwACAACAAAAAAAAAA0ACAABAAIAAAAAAAwACAABAAAAAAD//wwACAABAAAAAAD//w0ACAABAAIAAAAXAAwACAABAAAAAAAXAA0ACAABAAIAAAD+/wwACAAAAAAAAAD+/w0ACAAAAAIAAAAWAAUACAAAAAIAAAAWAAQACAAAAAAAAAAXAAQACAABAAAAAAAXAAUACAABAAIAAAAYAAUACAACAAIAAAAYAAQACAACAAAAAAAYAAwACAACAAAAAAAYAA0ACAACAAIAAAA=")

[node name="top" parent="Layers" index="4"]
tile_map_data = PackedByteArray("AAAXAP7/CQACAAEAAAAXAP3/CQACAAAAAAAWAP7/CQAGAAEAAAAWAP3/CQABAAAAAAAVAP7/CQABAAIAAAAVAP3/CQABAAAAAAAUAP7/CQABAAIAAAAUAP3/CQABAAAAAAATAP7/CQABAAIAAAATAP3/CQABAAAAAAASAP7/CQABAAIAAAASAP3/CQABAAAAAAARAP7/CQABAAIAAAARAP3/CQABAAAAAAAQAP7/CQABAAIAAAAQAP3/CQABAAAAAAAPAP7/CQABAAIAAAAPAP3/CQABAAAAAAAOAP7/CQABAAIAAAAOAP3/CQABAAAAAAANAP7/CQABAAIAAAANAP3/CQABAAAAAAAMAP7/CQABAAIAAAAMAP3/CQABAAAAAAALAP7/CQABAAIAAAALAP3/CQABAAAAAAAKAP7/CQABAAIAAAAKAP3/CQABAAAAAAAJAP7/CQABAAIAAAAJAP3/CQABAAAAAAAIAP7/CQABAAIAAAAIAP3/CQABAAAAAAAHAP7/CQABAAIAAAAHAP3/CQABAAAAAAAGAP7/CQABAAIAAAAGAP3/CQABAAAAAAAFAP7/CQABAAIAAAAFAP3/CQABAAAAAAAEAP7/CQAAAAIAAAAEAP3/CQAAAAAAAAABAP7/CQACAAIAAAABAP3/CQACAAAAAAAAAP7/CQABAAIAAAAAAP3/CQABAAAAAAD///7/CQAFAAEAAAD///3/CQABAAAAAAD+//7/CQAAAAEAAAD+//3/CQAAAAAAAAAXAAsACQABAAIAAAAXAAoACQABAAEAAAAXAAkACQABAAEAAAAXAAgACQABAAAAAAAXAAMACQABAAIAAAAXAAIACQAFAAIAAAAXAAEACQACAAEAAAAXAAAACQACAAEAAAAXAP//CQACAAEAAAAWAAsACQABAAIAAAAWAAoACQAGAAIAAAAWAAkACQAAAAEAAAAWAAgACQAAAAAAAAAWAAMACQAAAAIAAAAWAAIACQAAAAEAAAAWAAEACQAAAAEAAAAWAAAACQAAAAEAAAAWAP//CQAAAAEAAAAVAAsACQABAAIAAAAVAAoACQABAAAAAAAUAAsACQABAAIAAAAUAAoACQABAAAAAAATAAsACQABAAIAAAATAAoACQABAAAAAAASAAsACQABAAIAAAASAAoACQABAAAAAAARAAsACQABAAIAAAARAAoACQABAAAAAAAQAAsACQABAAIAAAAQAAoACQABAAAAAAAPAAsACQABAAIAAAAPAAoACQABAAAAAAAOAAsACQABAAIAAAAOAAoACQABAAAAAAANAAsACQABAAIAAAANAAoACQABAAAAAAAMAAsACQABAAIAAAAMAAoACQABAAAAAAALAAsACQABAAIAAAALAAoACQABAAAAAAAKAAsACQABAAIAAAAKAAoACQABAAAAAAAJAAsACQABAAIAAAAJAAoACQABAAAAAAAIAAsACQABAAIAAAAIAAoACQABAAAAAAAHAAsACQABAAIAAAAHAAoACQABAAAAAAAGAAsACQABAAIAAAAGAAoACQABAAAAAAAFAAsACQABAAIAAAAFAAoACQABAAAAAAAEAAsACQAAAAIAAAAEAAoACQAAAAAAAAABAAsACQACAAIAAAABAAoACQACAAAAAAAAAAsACQABAAIAAAAAAAoACQABAAAAAAD//wsACQABAAIAAAD//woACQAFAAIAAAD+/wsACQAAAAIAAAD+/woACQAAAAEAAAD//wkACQACAAEAAAD//wgACQACAAEAAAD//wcACQACAAEAAAD//wYACQACAAEAAAD//wUACQACAAEAAAD//wQACQACAAEAAAD//wMACQACAAEAAAD//wIACQACAAEAAAD//wEACQACAAEAAAD//wAACQACAAEAAAD/////CQACAAEAAAD+/wkACQAAAAEAAAD+/wgACQAAAAEAAAD+/wcACQAAAAEAAAD+/wYACQAAAAEAAAD+/wUACQAAAAEAAAD+/wQACQAAAAEAAAD+/wMACQAAAAEAAAD+/wIACQAAAAEAAAD+/wEACQAAAAEAAAD+/wAACQAAAAEAAAD+////CQAAAAEAAAAYAAMACQACAAIAAAAYAAIACQACAAAAAAAYAAgACQACAAAAAAAYAAkACQACAAEAAAAYAAsACQACAAIAAAAYAAoACQACAAEAAAA=")

[node name="Potion" parent="Props" index="0" instance=ExtResource("5_1ytof")]
position = Vector2(274, 126)
contents = Array[ExtResource("3_myhjs")]([SubResource("Resource_vrcmr")])

[node name="Lever" parent="Props" index="1" instance=ExtResource("13_64f3m")]
position = Vector2(670, 89)

[node name="Gate_Side" parent="Props" index="2" instance=ExtResource("6_5b3ge")]
y_sort_enabled = false
position = Vector2(720, 208)

[node name="ChangeStateListener" type="Node2D" parent="Props/Gate_Side" index="3" node_paths=PackedStringArray("listen_to")]
script = ExtResource("8_dt570")
listen_to = NodePath("../../Lever")
change_states = Dictionary[String, String]({
"off": "up",
"on": "down"
})

[node name="Gate_Front" type="Sprite2D" parent="Props" index="3"]
y_sort_enabled = true
position = Vector2(96, 24)
texture = ExtResource("9_3pscl")
offset = Vector2(0, -13)
hframes = 4
frame = 3
region_enabled = true
region_rect = Rect2(0, 0, 192, 48)

[node name="StaticBody2D" type="StaticBody2D" parent="Props/Gate_Front" index="0"]
position = Vector2(0, 2)
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Props/Gate_Front/StaticBody2D" index="0"]
z_index = -1
position = Vector2(0, -3)
shape = SubResource("RectangleShape2D_pt5lc")

[node name="InteractionArea2D" type="CollisionShape2D" parent="Props/Gate_Front" index="1"]
shape = SubResource("CircleShape2D_iu1m7")
debug_color = Color(0.629073, 0.525479, 0.199973, 0.42)
script = ExtResource("16_iu1m7")
metadata/_custom_type_script = ExtResource("16_iu1m7")

[node name="AnimationPlayer" type="AnimationPlayer" parent="Props/Gate_Front" index="2"]
libraries = {
&"": SubResource("AnimationLibrary_w6wxc")
}

[node name="StateMachine" type="Node" parent="Props/Gate_Front" index="3" node_paths=PackedStringArray("current_state") groups=["save"]]
script = ExtResource("7_e6yb8")
current_state = NodePath("interact")

[node name="interact" type="Node" parent="Props/Gate_Front/StateMachine" index="0" node_paths=PackedStringArray("interaction_area", "on_completion")]
script = ExtResource("16_nsalp")
interaction_area = NodePath("../../InteractionArea2D")
action_trigger = "interact"
conditions = Array[ExtResource("19_3t34l")]([SubResource("Resource_cag23")])
one_shot = false
on_completion = [NodePath("../down")]

[node name="idle_up" type="Node" parent="Props/Gate_Front/StateMachine/interact" index="0" node_paths=PackedStringArray("animation_player")]
script = ExtResource("12_kio72")
animation_player = NodePath("../../../AnimationPlayer")
animation = "idle_up"

[node name="down" type="Node" parent="Props/Gate_Front/StateMachine" index="1" node_paths=PackedStringArray("animation_player")]
script = ExtResource("12_kio72")
animation_player = NodePath("../../AnimationPlayer")
animation = "down"

[node name="idle_down" type="Node" parent="Props/Gate_Front/StateMachine" index="2" node_paths=PackedStringArray("animation_player")]
script = ExtResource("12_kio72")
animation_player = NodePath("../../AnimationPlayer")
animation = "idle_down"

[node name="up" type="Node" parent="Props/Gate_Front/StateMachine" index="3" node_paths=PackedStringArray("animation_player")]
script = ExtResource("12_kio72")
animation_player = NodePath("../../AnimationPlayer")
animation = "up"

[node name="Spikes" parent="Props" index="4" instance=ExtResource("4_avl7y")]
position = Vector2(448, 160)

[node name="Gate_Front3" parent="Props" index="5" instance=ExtResource("12_70ge1")]
position = Vector2(561, 66)

[node name="ChangeStateListener" type="Node2D" parent="Props/Gate_Front3" index="3" node_paths=PackedStringArray("listen_to")]
script = ExtResource("8_dt570")
listen_to = NodePath("../../Lever")
change_states = Dictionary[String, String]({
"off": "down",
"on": "up"
})

[node name="Chest" parent="Props" index="6" instance=ExtResource("6_kdswq")]
position = Vector2(448, 35)
contents = Array[ExtResource("3_myhjs")]([SubResource("Resource_iu1m7")])

[node name="Chest2" type="Sprite2D" parent="Props" index="7"]
y_sort_enabled = true
position = Vector2(156, 111)
texture = ExtResource("17_mhiu8")
hframes = 5
region_enabled = true
region_rect = Rect2(0, 38, 210, 38)
script = ExtResource("18_lswbx")
contents = Array[ExtResource("3_myhjs")]([SubResource("Resource_iu1m7")])

[node name="StaticBody2D" type="StaticBody2D" parent="Props/Chest2" index="0"]
collision_layer = 4
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Props/Chest2/StaticBody2D" index="0"]
position = Vector2(0, 3)
shape = SubResource("RectangleShape2D_niryh")

[node name="InteractionArea2D" type="CollisionShape2D" parent="Props/Chest2/StaticBody2D" index="1"]
z_index = -1
position = Vector2(0, 3)
shape = SubResource("CircleShape2D_db0e2")
debug_color = Color(0.610154, 0.529703, 0.285078, 0.42)
script = ExtResource("16_iu1m7")
metadata/_custom_type_script = ExtResource("16_iu1m7")

[node name="AnimationPlayer" type="AnimationPlayer" parent="Props/Chest2" index="1"]
libraries = {
&"": SubResource("AnimationLibrary_jt1pw")
}
autoplay = "idle"

[node name="StateMachine" type="Node" parent="Props/Chest2" index="2" node_paths=PackedStringArray("current_state") groups=["save"]]
script = ExtResource("7_e6yb8")
current_state = NodePath("idle")

[node name="idle" type="Node" parent="Props/Chest2/StateMachine" index="0" node_paths=PackedStringArray("interaction_area", "on_condition_not_met", "on_completion")]
script = ExtResource("16_nsalp")
interaction_area = NodePath("../../StaticBody2D/InteractionArea2D")
action_trigger = "interact"
conditions = Array[ExtResource("19_3t34l")]([SubResource("Resource_iqf6e"), SubResource("Resource_5t8rk")])
on_condition_not_met = {
"item": NodePath("../msg-door_closed")
}
on_completion = [NodePath("../open")]

[node name="open" type="Node" parent="Props/Chest2/StateMachine" index="1" node_paths=PackedStringArray("animation_player", "on_completion")]
script = ExtResource("12_kio72")
animation_player = NodePath("../../AnimationPlayer")
animation = "open"
on_completion = [NodePath("../call_get_contents")]

[node name="tween" type="Node" parent="Props/Chest2/StateMachine/open" index="0" node_paths=PackedStringArray("object")]
script = ExtResource("19_uujh0")
object = NodePath("../../..")
tweens = Array[ExtResource("20_3t34l")]([SubResource("Resource_tf1rf"), SubResource("Resource_nicjx")])

[node name="call_get_contents" type="Node" parent="Props/Chest2/StateMachine" index="2" node_paths=PackedStringArray("node", "on_completion")]
script = ExtResource("21_qy4h0")
node = NodePath("../..")
method_name = "get_contents"
await_signal_to_complete = "contents_got"
on_completion = [NodePath("../opened")]
metadata/_custom_type_script = ExtResource("21_qy4h0")

[node name="opened" type="Node" parent="Props/Chest2/StateMachine" index="3" node_paths=PackedStringArray("animation_player")]
script = ExtResource("12_kio72")
animation_player = NodePath("../../AnimationPlayer")
animation = "opened"

[node name="msg-door_closed" type="Node" parent="Props/Chest2/StateMachine" index="4" node_paths=PackedStringArray("on_completion")]
script = ExtResource("24_qy4h0")
dialogue = ExtResource("25_e5bmj")
title = "door_closed"
on_completion = [NodePath("../idle")]
metadata/_custom_type_script = ExtResource("24_qy4h0")

[node name="P1" parent="Entities" index="0"]
position = Vector2(448, 92)

[node name="Transfer_North" parent="Transfers" index="0" instance=ExtResource("16_vcg7b")]
position = Vector2(96, -36)
destination_name = "Transfer_South"

[node name="InteractionArea2D" parent="Transfers/Transfer_North" index="0"]
shape = SubResource("RectangleShape2D_vrcmr")

[node name="interact" parent="Transfers/Transfer_North/StateMachine" index="0"]
conditions = Array[ExtResource("19_3t34l")]([SubResource("Resource_3pila")])

[node name="call_transfer" parent="Transfers/Transfer_North/StateMachine" index="1" node_paths=PackedStringArray("on_completion")]
on_completion = []

[node name="Transfer_South" parent="Transfers" index="1" instance=ExtResource("16_vcg7b")]
position = Vector2(96, 405)
destination_name = "Transfer_North"

[node name="InteractionArea2D" parent="Transfers/Transfer_South" index="0"]
shape = SubResource("RectangleShape2D_svp4f")

[node name="interact" parent="Transfers/Transfer_South/StateMachine" index="0"]
conditions = Array[ExtResource("19_3t34l")]([SubResource("Resource_d86x1")])

[node name="call_transfer" parent="Transfers/Transfer_South/StateMachine" index="1" node_paths=PackedStringArray("on_completion")]
on_completion = []

[node name="Transfer_East" parent="Transfers" index="2" instance=ExtResource("16_vcg7b")]
position = Vector2(752, 224)
rotation = 1.5708
level_path = "res://scenes/levels/level_navigation.tscn"
destination_name = "Transfer_West"
facing = 1

[node name="Event_01" type="Node" parent="Events" index="0"]

[node name="InteractionArea2D" type="CollisionShape2D" parent="Events/Event_01" index="0"]
position = Vector2(360, 288)
shape = SubResource("RectangleShape2D_cywot")
script = ExtResource("16_iu1m7")
metadata/_custom_type_script = ExtResource("16_iu1m7")

[node name="Path2D" type="Path2D" parent="Events/Event_01" index="1"]
position = Vector2(261, 267)
curve = SubResource("Curve2D_uycfk")

[node name="StateMachine" type="Node" parent="Events/Event_01" index="2" node_paths=PackedStringArray("current_state")]
script = ExtResource("7_e6yb8")
current_state = NodePath("interact")

[node name="interact" type="Node" parent="Events/Event_01/StateMachine" index="0" node_paths=PackedStringArray("interaction_area", "on_completion")]
script = ExtResource("16_nsalp")
interaction_area = NodePath("../../InteractionArea2D")
action_trigger = "interact"
one_shot = false
on_completion = [NodePath("../player_path")]

[node name="player_path" type="Node" parent="Events/Event_01/StateMachine" index="1" node_paths=PackedStringArray("path", "on_completion")]
script = ExtResource("8_285dh")
path = NodePath("../../Path2D")
distance_threshold = 3.0
on_completion = [NodePath("../wait")]

[node name="disable_player" type="Node" parent="Events/Event_01/StateMachine/player_path" index="0"]
script = ExtResource("17_pb8k3")
param_key = "entity"
on_enter = Dictionary[String, Variant]({
"friction_multiplier": 4.0,
"input_enabled": false
})
on_exit = Dictionary[String, Variant]({
"friction_multiplier": 1.0
})

[node name="wait" type="Node" parent="Events/Event_01/StateMachine" index="2" node_paths=PackedStringArray("on_completion")]
script = ExtResource("9_o85tp")
on_completion = [NodePath("../enable_player")]
time_range = Vector2(1, 1)

[node name="enable_player" type="Node" parent="Events/Event_01/StateMachine" index="3" node_paths=PackedStringArray("on_completion")]
script = ExtResource("17_pb8k3")
param_key = "entity"
on_enter = Dictionary[String, Variant]({
"input_enabled": true
})
on_completion = [NodePath("../interact")]

[editable path="Transfers/Transfer_North"]
[editable path="Transfers/Transfer_South"]
